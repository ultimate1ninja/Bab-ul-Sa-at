<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bab ul Sa'at ‚Äî Wrist Watches</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --bg:      #0a0a0a;
  --bg2:     #111111;
  --bg3:     #181818;
  --surface: #1e1e1e;
  --border:  #2a2a2a;
  --border2: #333333;
  --text:    #f0ebe0;
  --text2:   #a09880;
  --text3:   #5a5548;
  --gold:    #c8983a;
  --gold2:   #e0b050;
  --red:     #c0392b;
  --green:   #27ae60;
  --white:   #ffffff;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg2); }
::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 3px; }

/* ‚îÄ‚îÄ TOP BAR ‚îÄ‚îÄ */
.topbar {
  background: var(--gold);
  color: #1a1200;
  font-size: 0.68rem;
  letter-spacing: 0.18em;
  text-align: center;
  padding: 7px;
  text-transform: uppercase;
  font-weight: 500;
}

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
header {
  position: sticky; top: 0; z-index: 100;
  background: rgba(10,10,10,0.96);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 3rem;
  height: 68px;
}

.logo {
  font-family: 'Playfair Display', serif;
  font-size: 1.45rem;
  font-weight: 700;
  color: var(--text);
  letter-spacing: 0.02em;
  text-decoration: none;
  display: flex; flex-direction: column; line-height: 1;
  cursor: pointer;
}
.logo span {
  font-size: 0.5rem;
  font-family: 'DM Sans', sans-serif;
  font-weight: 400;
  letter-spacing: 0.38em;
  color: var(--gold);
  text-transform: uppercase;
  margin-top: 4px;
}

nav { display: flex; gap: 2.2rem; align-items: center; }
nav a {
  font-size: 0.75rem; font-weight: 400;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--text2); text-decoration: none;
  transition: color 0.2s;
  cursor: pointer;
}
nav a:hover, nav a.active { color: var(--gold); }

.header-right { display: flex; align-items: center; gap: 1rem; }

.search-bar {
  display: flex; align-items: center; gap: 0.5rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 2px; padding: 6px 12px;
  transition: border-color 0.2s;
}
.search-bar:focus-within { border-color: var(--gold); }
.search-bar input {
  border: none; background: transparent;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.78rem; color: var(--text);
  width: 155px; outline: none;
}
.search-bar input::placeholder { color: var(--text3); }

.cart-btn {
  position: relative;
  background: var(--gold); color: #0a0800;
  border: none; cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.72rem; font-weight: 600;
  letter-spacing: 0.12em; text-transform: uppercase;
  padding: 8px 18px; border-radius: 2px;
  transition: background 0.2s;
  display: flex; align-items: center; gap: 8px;
}
.cart-btn:hover { background: var(--gold2); }
.cart-count {
  background: #0a0800; color: var(--gold);
  font-size: 0.62rem; font-weight: 700;
  border-radius: 50%; width: 17px; height: 17px;
  display: none; align-items: center; justify-content: center;
}
.cart-count.has-items { display: flex; }

/* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
.hero {
  display: grid; grid-template-columns: 1fr 1fr;
  min-height: 500px; overflow: hidden;
  border-bottom: 1px solid var(--border);
}

.hero-left {
  background: var(--bg);
  padding: 5rem 4rem;
  display: flex; flex-direction: column; justify-content: center;
  position: relative; overflow: hidden;
}
.hero-left::before {
  content: 'TIME';
  position: absolute; left: -2rem; bottom: -4rem;
  font-family: 'Playfair Display', serif;
  font-size: 14rem; font-weight: 700;
  color: rgba(255,255,255,0.02);
  line-height: 1; pointer-events: none; user-select: none;
}

.hero-eyebrow {
  font-size: 0.65rem; font-weight: 500;
  letter-spacing: 0.35em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 1.2rem;
  display: flex; align-items: center; gap: 8px;
}
.hero-eyebrow::before {
  content: '';
  display: inline-block; width: 28px; height: 1px;
  background: var(--gold);
}

.hero-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.2rem, 3.8vw, 3.2rem);
  font-weight: 700; line-height: 1.18;
  color: var(--text); margin-bottom: 1.2rem;
}
.hero-title em { font-style: italic; color: var(--gold); }

.hero-desc {
  font-size: 0.88rem; font-weight: 300;
  color: var(--text2); line-height: 1.75;
  max-width: 360px; margin-bottom: 2.2rem;
}

.hero-cta {
  display: inline-flex; align-items: center; gap: 10px;
  background: var(--gold); color: #0a0800;
  font-size: 0.75rem; font-weight: 600;
  letter-spacing: 0.14em; text-transform: uppercase;
  padding: 13px 26px; border: none; cursor: pointer; border-radius: 2px;
  transition: background 0.2s, transform 0.15s;
  font-family: 'DM Sans', sans-serif; width: fit-content;
}
.hero-cta:hover { background: var(--gold2); transform: translateY(-1px); }
.hero-cta svg { transition: transform 0.2s; }
.hero-cta:hover svg { transform: translateX(3px); }

.hero-right {
  background: var(--bg2);
  position: relative; overflow: hidden;
  display: flex; align-items: center; justify-content: center;
  padding: 3rem;
  border-left: 1px solid var(--border);
}
.hero-right::after {
  content: '';
  position: absolute; inset: 0;
  background: radial-gradient(ellipse at center, rgba(200,152,58,0.06) 0%, transparent 70%);
  pointer-events: none;
}

.hero-watch-wrap {
  width: 340px; height: 400px;
  display: flex; align-items: center; justify-content: center;
  position: relative; z-index: 1;
}

/* ‚îÄ‚îÄ SHOP SECTION ‚îÄ‚îÄ */
.shop-section { padding: 3.5rem 3rem; }

.shop-header {
  display: flex; align-items: flex-end; justify-content: space-between;
  margin-bottom: 1.8rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid var(--border);
}
.shop-title {
  font-family: 'Playfair Display', serif;
  font-size: 1.7rem; font-weight: 400; color: var(--text);
}
.shop-title span { font-style: italic; color: var(--gold); }
.shop-meta { font-size: 0.75rem; color: var(--text3); }

/* ‚îÄ‚îÄ FILTER BAR ‚îÄ‚îÄ */
.filter-row {
  display: flex; gap: 0.45rem; flex-wrap: wrap;
  margin-bottom: 2.2rem; align-items: center;
}
.filter-label {
  font-size: 0.65rem; letter-spacing: 0.18em;
  text-transform: uppercase; color: var(--text3);
  margin-right: 0.4rem;
}
.filter-btn {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.72rem; font-weight: 400;
  letter-spacing: 0.06em;
  background: transparent;
  border: 1px solid var(--border2);
  color: var(--text2); padding: 6px 16px; border-radius: 2px;
  cursor: pointer; transition: all 0.18s;
}
.filter-btn:hover { border-color: var(--gold); color: var(--gold); }
.filter-btn.active { background: var(--gold); border-color: var(--gold); color: #0a0800; font-weight: 500; }

.sort-select {
  margin-left: auto;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.72rem; color: var(--text2);
  background: var(--surface);
  border: 1px solid var(--border2);
  padding: 6px 12px; border-radius: 2px;
  cursor: pointer; outline: none;
}
.sort-select option { background: var(--surface); }

/* ‚îÄ‚îÄ PRODUCTS GRID ‚îÄ‚îÄ */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(255px, 1fr));
  gap: 1.2rem;
}

.product-card {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 3px;
  overflow: hidden; cursor: pointer;
  transition: transform 0.22s, box-shadow 0.22s, border-color 0.22s;
  position: relative;
}
.product-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 48px rgba(0,0,0,0.5);
  border-color: var(--border2);
}

.product-img {
  position: relative;
  background: var(--bg3);
  aspect-ratio: 1;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden;
}
.product-img::after {
  content: '';
  position: absolute; inset: 0;
  background: radial-gradient(ellipse at center, rgba(200,152,58,0.04) 0%, transparent 70%);
  pointer-events: none;
}
.product-img svg { width: 65%; height: 65%; position: relative; z-index: 1; }

/* ‚îÄ‚îÄ CAROUSEL ‚îÄ‚îÄ */
.carousel-track {
  position: relative; width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
}
.carousel-slide {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  opacity: 0; transition: opacity 0.5s ease;
  pointer-events: none;
}
.carousel-slide.active { opacity: 1; pointer-events: all; }
.carousel-slide img {
  width: 100%; height: 100%;
  object-fit: cover;
}
.carousel-slide svg { width: 65%; height: 65%; }
.carousel-dots {
  position: absolute; bottom: 8px; left: 0; right: 0;
  display: flex; justify-content: center; gap: 5px;
  z-index: 5;
}
.carousel-dot {
  width: 5px; height: 5px; border-radius: 50%;
  background: rgba(255,255,255,0.25);
  transition: background 0.3s, transform 0.3s;
  cursor: pointer;
}
.carousel-dot.active {
  background: var(--gold);
  transform: scale(1.35);
}
.carousel-arrow {
  position: absolute; top: 50%; transform: translateY(-50%);
  z-index: 5; width: 26px; height: 26px;
  background: rgba(10,10,10,0.7); border: 1px solid var(--border2);
  border-radius: 50%; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 0.7rem; color: var(--text2);
  opacity: 0; transition: opacity 0.2s;
}
.carousel-arrow.prev { left: 8px; }
.carousel-arrow.next { right: 8px; }
.product-card:hover .carousel-arrow { opacity: 1; }
.carousel-arrow:hover { background: rgba(200,152,58,0.8); color: #0a0800; }

.product-badge {
  position: absolute; top: 10px; left: 10px; z-index: 2;
  font-size: 0.58rem; font-weight: 600;
  letter-spacing: 0.12em; text-transform: uppercase;
  padding: 3px 8px; border-radius: 2px;
}
.badge-new  { background: var(--gold);  color: #0a0800; }
.badge-hot  { background: #e05c20;      color: white; }

.product-wishlist {
  position: absolute; top: 10px; right: 10px; z-index: 2;
  width: 30px; height: 30px;
  background: var(--surface); border: 1px solid var(--border2);
  border-radius: 50%; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  opacity: 0; transition: opacity 0.2s;
  font-size: 0.82rem; color: var(--text2);
}
.product-card:hover .product-wishlist { opacity: 1; }
.product-wishlist.liked { opacity: 1 !important; color: var(--red); border-color: var(--red); }

.product-info { padding: 1rem 1.1rem 1.2rem; }

.product-brand {
  font-size: 0.6rem; font-weight: 500;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 4px;
}
.product-name {
  font-family: 'Playfair Display', serif;
  font-size: 1rem; font-weight: 400;
  color: var(--text); margin-bottom: 3px; line-height: 1.3;
}
.product-ref { font-size: 0.62rem; color: var(--text3); letter-spacing: 0.05em; margin-bottom: 10px; }

.product-tags { display: flex; gap: 5px; margin-bottom: 12px; flex-wrap: wrap; }
.product-tag {
  font-size: 0.58rem; letter-spacing: 0.08em; text-transform: uppercase;
  border: 1px solid var(--border2); color: var(--text3);
  padding: 2px 7px; border-radius: 2px;
}

.product-footer {
  display: flex; align-items: center; justify-content: space-between;
  padding-top: 10px;
  border-top: 1px solid var(--border);
}
.product-price {
  font-family: 'Playfair Display', serif;
  font-size: 1.15rem; font-weight: 700; color: var(--text);
}
.product-price .currency {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.68rem; font-weight: 400;
  color: var(--text3); margin-right: 2px;
}

.add-cart-btn {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.68rem; font-weight: 600;
  letter-spacing: 0.1em; text-transform: uppercase;
  background: transparent; color: var(--gold);
  border: 1px solid var(--gold);
  padding: 6px 13px; border-radius: 2px;
  cursor: pointer; transition: all 0.18s;
}
.add-cart-btn:hover { background: var(--gold); color: #0a0800; }
.add-cart-btn.added { background: var(--green); border-color: var(--green); color: white; }

/* ‚îÄ‚îÄ TRUST STRIP ‚îÄ‚îÄ */
.trust-strip {
  background: var(--bg2);
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  display: grid; grid-template-columns: repeat(4, 1fr);
  text-align: center; padding: 2rem 3rem;
  margin-top: 3.5rem;
}
.trust-item { padding: 0.5rem 1rem; }
.trust-item + .trust-item { border-left: 1px solid var(--border); }
.trust-icon { font-size: 1.3rem; margin-bottom: 7px; }
.trust-title { font-size: 0.76rem; font-weight: 500; color: var(--text); margin-bottom: 3px; }
.trust-desc  { font-size: 0.65rem; color: var(--text3); line-height: 1.5; }

/* ‚îÄ‚îÄ BRANDS SECTION ‚îÄ‚îÄ */
#brands-section {
  padding: 4rem 3rem;
  border-bottom: 1px solid var(--border);
}
.section-eyebrow {
  font-size: 0.65rem; font-weight: 500;
  letter-spacing: 0.35em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 1rem;
  display: flex; align-items: center; gap: 8px;
}
.section-eyebrow::before {
  content: ''; display: inline-block;
  width: 28px; height: 1px; background: var(--gold);
}
.section-title {
  font-family: 'Playfair Display', serif;
  font-size: 1.7rem; font-weight: 400;
  color: var(--text); margin-bottom: 0.5rem;
}
.section-title span { font-style: italic; color: var(--gold); }
.section-desc {
  font-size: 0.85rem; color: var(--text3);
  line-height: 1.7; max-width: 520px; margin-bottom: 2.5rem;
}
.brands-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
}
.brand-card {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 3px;
  padding: 1.8rem 1.5rem;
  display: flex; flex-direction: column; align-items: center;
  gap: 0.8rem;
  cursor: pointer;
  transition: all 0.22s;
  text-align: center;
}
.brand-card:hover {
  border-color: var(--gold);
  transform: translateY(-3px);
  box-shadow: 0 12px 32px rgba(0,0,0,0.4);
}
.brand-icon {
  width: 52px; height: 52px;
  background: var(--bg3);
  border: 1px solid var(--border2);
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.3rem;
}
.brand-name {
  font-family: 'Playfair Display', serif;
  font-size: 1rem; color: var(--text);
}
.brand-count {
  font-size: 0.65rem; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--text3);
}
.brand-filter-btn {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.65rem; font-weight: 600;
  letter-spacing: 0.1em; text-transform: uppercase;
  background: transparent; color: var(--gold);
  border: 1px solid var(--border2);
  padding: 5px 12px; border-radius: 2px;
  cursor: pointer; transition: all 0.18s; margin-top: 4px;
}
.brand-filter-btn:hover { background: var(--gold); color: #0a0800; border-color: var(--gold); }

/* ‚îÄ‚îÄ ABOUT SECTION ‚îÄ‚îÄ */
#about-section {
  padding: 4rem 3rem;
  border-bottom: 1px solid var(--border);
  display: grid; grid-template-columns: 1fr 1fr; gap: 4rem;
  align-items: center;
}
.about-text .section-eyebrow { margin-bottom: 1rem; }
.about-text .section-title { margin-bottom: 1rem; }
.about-body {
  font-size: 0.88rem; color: var(--text2);
  line-height: 1.85; margin-bottom: 1.5rem;
}
.about-stats {
  display: grid; grid-template-columns: repeat(3,1fr);
  gap: 1rem; margin-top: 2rem;
}
.about-stat {
  padding: 1.2rem 1rem;
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 3px; text-align: center;
}
.about-stat-num {
  font-family: 'Playfair Display', serif;
  font-size: 1.8rem; font-weight: 700;
  color: var(--gold); display: block;
}
.about-stat-label {
  font-size: 0.62rem; letter-spacing: 0.12em;
  text-transform: uppercase; color: var(--text3);
  margin-top: 4px; display: block;
}
.about-visual {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 3px;
  padding: 3rem;
  display: flex; flex-direction: column; gap: 1rem;
  position: relative; overflow: hidden;
}
.about-visual::before {
  content: '‚åö';
  position: absolute; right: -1rem; bottom: -2rem;
  font-size: 9rem; opacity: 0.04; user-select: none;
}
.about-feature {
  display: flex; gap: 1rem; align-items: flex-start;
}
.about-feature-icon {
  width: 36px; height: 36px; flex-shrink: 0;
  background: var(--bg3); border: 1px solid var(--border2);
  border-radius: 50%; display: flex; align-items: center;
  justify-content: center; font-size: 0.9rem;
}
.about-feature-title {
  font-size: 0.82rem; font-weight: 500; color: var(--text);
  margin-bottom: 3px;
}
.about-feature-desc {
  font-size: 0.72rem; color: var(--text3); line-height: 1.6;
}

/* ‚îÄ‚îÄ CONTACT SECTION ‚îÄ‚îÄ */
#contact-section {
  padding: 4rem 3rem;
  border-bottom: 1px solid var(--border);
}
.contact-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;
  margin-top: 2.5rem;
}
.contact-card {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 3px;
  padding: 2rem;
  display: flex; flex-direction: column; gap: 1rem;
}
.contact-card-header {
  display: flex; align-items: center; gap: 1rem;
  padding-bottom: 1rem; border-bottom: 1px solid var(--border);
}
.contact-icon {
  width: 44px; height: 44px;
  background: var(--bg3); border: 1px solid var(--border2);
  border-radius: 50%; display: flex; align-items: center;
  justify-content: center; font-size: 1.1rem; flex-shrink: 0;
}
.contact-card-title {
  font-family: 'Playfair Display', serif;
  font-size: 1rem; color: var(--text);
}
.contact-card-sub {
  font-size: 0.68rem; color: var(--text3); letter-spacing: 0.05em;
}
.contact-detail {
  display: flex; flex-direction: column; gap: 0.3rem;
}
.contact-detail-label {
  font-size: 0.6rem; letter-spacing: 0.18em;
  text-transform: uppercase; color: var(--gold);
}
.contact-detail-value {
  font-size: 0.85rem; color: var(--text2);
}
.contact-btn {
  margin-top: auto;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.72rem; font-weight: 600;
  letter-spacing: 0.12em; text-transform: uppercase;
  background: #25D366; color: white;
  border: none; padding: 10px 18px; border-radius: 2px;
  cursor: pointer; transition: background 0.2s;
  display: flex; align-items: center; justify-content: center; gap: 8px;
  text-decoration: none;
}
.contact-btn:hover { background: #1ebe5a; }
.contact-btn.alt {
  background: transparent; color: var(--gold);
  border: 1px solid var(--gold);
}
.contact-btn.alt:hover { background: var(--gold); color: #0a0800; }

/* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
footer {
  background: var(--bg2);
  border-top: 1px solid var(--border);
  padding: 3rem;
  display: grid; grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 2rem;
}
.footer-brand {
  font-family: 'Playfair Display', serif;
  font-size: 1.35rem; color: var(--text); margin-bottom: 0.7rem;
}
.footer-tagline { font-size: 0.78rem; color: var(--text3); line-height: 1.7; max-width: 230px; }
.footer-col h4 {
  font-size: 0.62rem; font-weight: 500;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 1rem;
}
.footer-col a {
  display: block; font-size: 0.78rem;
  color: var(--text3); text-decoration: none;
  margin-bottom: 0.5rem; transition: color 0.15s;
  cursor: pointer;
}
.footer-col a:hover { color: var(--text); }
.footer-bottom {
  background: var(--bg);
  border-top: 1px solid var(--border);
  padding: 1rem 3rem;
  display: flex; justify-content: space-between; align-items: center;
  font-size: 0.62rem; color: var(--text3); letter-spacing: 0.05em;
}

/* ‚îÄ‚îÄ CART DRAWER ‚îÄ‚îÄ */
.cart-overlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.7);
  z-index: 200; opacity: 0; pointer-events: none;
  transition: opacity 0.25s;
}
.cart-overlay.open { opacity: 1; pointer-events: all; }

.cart-drawer {
  position: fixed; top: 0; right: 0; bottom: 0;
  width: 370px; background: var(--bg2);
  border-left: 1px solid var(--border);
  z-index: 201; transform: translateX(100%);
  transition: transform 0.3s cubic-bezier(0.4,0,0.2,1);
  display: flex; flex-direction: column;
  box-shadow: -12px 0 48px rgba(0,0,0,0.5);
}
.cart-drawer.open { transform: translateX(0); }

.cart-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 1.4rem 1.6rem;
  border-bottom: 1px solid var(--border);
}
.cart-header h2 {
  font-family: 'Playfair Display', serif;
  font-size: 1.1rem; font-weight: 400; color: var(--text);
}
.close-cart {
  background: var(--surface); border: 1px solid var(--border);
  cursor: pointer; font-size: 0.9rem; color: var(--text2);
  width: 30px; height: 30px; display: flex;
  align-items: center; justify-content: center; border-radius: 2px;
  transition: all 0.15s;
}
.close-cart:hover { background: var(--border2); color: var(--text); }

.cart-items { flex: 1; overflow-y: auto; padding: 1rem 1.6rem; }
.cart-empty {
  text-align: center; padding: 3rem 1rem;
  color: var(--text3); font-size: 0.85rem; line-height: 1.8;
}
.cart-empty-icon { font-size: 2.2rem; margin-bottom: 1rem; opacity: 0.35; }

.cart-item {
  display: flex; gap: 0.9rem; padding: 0.9rem 0;
  border-bottom: 1px solid var(--border); align-items: flex-start;
}
.cart-item-img {
  width: 56px; height: 56px; flex-shrink: 0;
  background: var(--bg3); border: 1px solid var(--border);
  border-radius: 2px; display: flex; align-items: center; justify-content: center;
}
.cart-item-img svg { width: 80%; height: 80%; }
.cart-item-name { font-family: 'Playfair Display', serif; font-size: 0.88rem; color: var(--text); margin-bottom: 2px; }
.cart-item-ref { font-size: 0.62rem; color: var(--text3); margin-bottom: 5px; }
.cart-item-price { font-size: 0.85rem; font-weight: 500; color: var(--gold); }
.cart-item-remove {
  margin-left: auto; background: none; border: none;
  color: var(--text3); cursor: pointer; font-size: 0.9rem; flex-shrink: 0;
  transition: color 0.15s;
}
.cart-item-remove:hover { color: var(--red); }

.cart-footer {
  padding: 1.3rem 1.6rem;
  border-top: 1px solid var(--border);
  background: var(--bg3);
}
.cart-total {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 1rem;
}
.cart-total-label { font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--text3); }
.cart-total-price {
  font-family: 'Playfair Display', serif;
  font-size: 1.35rem; font-weight: 700; color: var(--text);
}
.checkout-btn {
  width: 100%; font-family: 'DM Sans', sans-serif;
  font-size: 0.78rem; font-weight: 600;
  letter-spacing: 0.14em; text-transform: uppercase;
  background: #25D366; color: #fff;
  border: none; padding: 13px; border-radius: 2px;
  cursor: pointer; transition: background 0.2s;
  display: flex; align-items: center; justify-content: center; gap: 8px;
}
.checkout-btn:hover { background: #1ebe5a; }

/* ‚îÄ‚îÄ CUSTOMER FORM ‚îÄ‚îÄ */
.customer-form {
  padding: 1rem 1.6rem 0;
  border-top: 1px solid var(--border);
  display: none;
}
.customer-form.visible { display: block; }
.form-title {
  font-size: 0.68rem; font-weight: 500;
  letter-spacing: 0.18em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 0.9rem;
}
.form-group { margin-bottom: 0.7rem; }
.form-group label {
  display: block; font-size: 0.65rem;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--text3); margin-bottom: 4px;
}
.form-group input, .form-group textarea {
  width: 100%; background: var(--surface);
  border: 1px solid var(--border2); color: var(--text);
  font-family: 'DM Sans', sans-serif; font-size: 0.82rem;
  padding: 8px 10px; border-radius: 2px; outline: none;
  transition: border-color 0.18s;
}
.form-group input:focus, .form-group textarea:focus { border-color: var(--gold); }
.form-group input::placeholder, .form-group textarea::placeholder { color: var(--text3); }
.form-group textarea { resize: none; height: 56px; }
.form-error { font-size: 0.65rem; color: #e05050; margin-top: 3px; display: none; }
.form-error.show { display: block; }

/* ‚îÄ‚îÄ FLOATING WHATSAPP BUTTON ‚îÄ‚îÄ */
.wa-float {
  position: fixed; bottom: 2rem; right: 2rem;
  z-index: 90;
  width: 52px; height: 52px;
  background: #25D366;
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 4px 20px rgba(37,211,102,0.4);
  cursor: pointer; text-decoration: none;
  transition: transform 0.2s, box-shadow 0.2s;
  animation: waPulse 2.5s ease-in-out infinite;
}
.wa-float:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 28px rgba(37,211,102,0.55);
  animation: none;
}
.wa-float svg { width: 26px; height: 26px; }
@keyframes waPulse {
  0%, 100% { box-shadow: 0 4px 20px rgba(37,211,102,0.4); }
  50%       { box-shadow: 0 4px 28px rgba(37,211,102,0.7); }
}
.wa-tooltip {
  position: fixed; bottom: 2.8rem; right: 5rem;
  z-index: 90;
  background: var(--surface); color: var(--text);
  border: 1px solid var(--border2);
  font-size: 0.7rem; letter-spacing: 0.05em;
  padding: 6px 12px; border-radius: 2px;
  white-space: nowrap;
  box-shadow: 0 4px 16px rgba(0,0,0,0.4);
  opacity: 0; pointer-events: none;
  transition: opacity 0.2s;
}
.wa-float:hover ~ .wa-tooltip { opacity: 1; }

/* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
.toast {
  position: fixed; bottom: 2rem; left: 50%;
  transform: translateX(-50%) translateY(12px);
  background: var(--surface); color: var(--text);
  border: 1px solid var(--border2);
  font-size: 0.75rem; letter-spacing: 0.05em;
  padding: 9px 18px; border-radius: 2px;
  z-index: 300; opacity: 0;
  transition: all 0.28s; white-space: nowrap;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
}
.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

/* ‚îÄ‚îÄ EMPTY STATE ‚îÄ‚îÄ */
.empty-state {
  grid-column: 1/-1; text-align: center;
  padding: 5rem 1rem; color: var(--text3);
}
.empty-state-icon { font-size: 2.5rem; margin-bottom: 1rem; opacity: 0.3; }
.empty-state p { font-size: 0.88rem; line-height: 1.7; }

/* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
@media (max-width: 920px) {
  header { padding: 0 1.5rem; }
  nav { display: none; }
  .hero { grid-template-columns: 1fr; }
  .hero-right { display: none; }
  .shop-section { padding: 2.5rem 1.5rem; }
  .trust-strip { grid-template-columns: 1fr 1fr; }
  .trust-item:nth-child(3) { border-left: none; }
  footer { grid-template-columns: 1fr 1fr; }
  #about-section { grid-template-columns: 1fr; gap: 2rem; }
  .contact-grid { grid-template-columns: 1fr; }
}
@media (max-width: 500px) {
  .cart-drawer { width: 100%; }
  .trust-strip { grid-template-columns: 1fr; }
  .trust-item + .trust-item { border-left: none; border-top: 1px solid var(--border); }
  footer { grid-template-columns: 1fr; }
  #brands-section, #about-section, #contact-section { padding: 2.5rem 1.5rem; }
}

/* ‚îÄ‚îÄ CAROUSEL ‚îÄ‚îÄ */
.carousel-track {
  position: relative; width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
}
.carousel-slide {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  opacity: 0; transition: opacity 0.5s ease;
  pointer-events: none;
}
.carousel-slide.active { opacity: 1; pointer-events: all; }
.carousel-slide img { width: 100%; height: 100%; object-fit: cover; }
.carousel-slide svg { width: 65%; height: 65%; }
.carousel-dots {
  position: absolute; bottom: 8px; left: 0; right: 0;
  display: flex; justify-content: center; gap: 5px; z-index: 5;
}
.carousel-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: rgba(255,255,255,0.25); transition: background 0.3s, transform 0.3s;
  cursor: pointer; border: none; padding: 0;
}
.carousel-dot.active { background: var(--gold); transform: scale(1.4); }
.carousel-arrow {
  position: absolute; top: 50%; transform: translateY(-50%);
  z-index: 5; width: 28px; height: 28px;
  background: rgba(10,10,10,0.75); border: 1px solid var(--border2);
  border-radius: 50%; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 1rem; color: var(--text2);
  opacity: 0; transition: opacity 0.2s; line-height: 1;
}
.carousel-arrow.prev { left: 8px; }
.carousel-arrow.next { right: 8px; }
.product-card:hover .carousel-arrow { opacity: 1; }
.carousel-arrow:hover { background: var(--gold); color: #0a0800; border-color: var(--gold); }
</style>
</head>
<body>

<div class="topbar">‚ú¶ Cash on delivery available ¬∑ Free delivery on orders above PKR 5,000 ¬∑ 5‚Äì7 day delivery nationwide ‚ú¶</div>

<header>
  <div class="logo" onclick="navTo('shop')">
    Bab ul Sa'at
    <span>Karachi ¬∑ Wrist Watches</span>
  </div>
  <nav>
    <a id="nav-shop"    onclick="navTo('shop')"    class="active">Shop</a>
    <a id="nav-brands"  onclick="navTo('brands')">Brands</a>
    <a id="nav-about"   onclick="navTo('about')">About</a>
    <a id="nav-contact" onclick="navTo('contact')">Contact</a>
  </nav>
  <div class="header-right">
    <div class="search-bar">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" color="#5a5548"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
      <input type="text" placeholder="Search watches‚Ä¶" id="searchInput">
    </div>
    <button class="cart-btn" onclick="openCart()">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
      Bag
      <span class="cart-count" id="cartCount">0</span>
    </button>
  </div>
</header>

<!-- Hero -->
<section class="hero" id="section-hero">
  <div class="hero-left">
    <p class="hero-eyebrow">New Arrivals ‚Äî 2025</p>
    <h1 class="hero-title">Every wrist<br>deserves a<br><em>great watch.</em></h1>
    <p class="hero-desc">Browse our full collection of genuine timepieces ‚Äî for men, women, couples, and smart wear. All authentic, all ready to ship.</p>
    <button class="hero-cta" onclick="navTo('shop')">
      Shop All Watches
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
    </button>
  </div>
  <div class="hero-right">
    <div class="hero-watch-wrap">
      <img src="images/curren-blue.jpg" 
           alt="Binbond Chronograph Watch"
           style="width:100%;height:100%;object-fit:contain;filter:drop-shadow(0 24px 48px rgba(200,152,58,0.35));border-radius:8px;" />
    </div>
  </div>
</section>

<!-- Shop -->
<section class="shop-section" id="section-shop">
  <div class="shop-header">
    <div>
      <h2 class="shop-title">Our <span>Collection</span></h2>
      <p class="shop-meta" id="productCount">Loading‚Ä¶</p>
    </div>
  </div>

  <div class="filter-row">
    <span class="filter-label">Category:</span>
    <button class="filter-btn active" data-cat="all"    onclick="filterProducts('all',this)">All</button>
    <button class="filter-btn"        data-cat="male"   onclick="filterProducts('male',this)">Male</button>
    <button class="filter-btn"        data-cat="female" onclick="filterProducts('female',this)">Female</button>
    <button class="filter-btn"        data-cat="unisex" onclick="filterProducts('unisex',this)">Unisex</button>
    <button class="filter-btn"        data-cat="couple" onclick="filterProducts('couple',this)">Couple</button>
    <button class="filter-btn"        data-cat="smart"  onclick="filterProducts('smart',this)">Smart</button>
    <select class="sort-select" onchange="sortProducts(this.value)" id="sortSelect">
      <option value="default">Sort: Featured</option>
      <option value="price-asc">Price: Low ‚Üí High</option>
      <option value="price-desc">Price: High ‚Üí Low</option>
      <option value="name">Name A‚ÄìZ</option>
    </select>
  </div>

  <div class="products-grid" id="productsGrid"></div>
</section>

<!-- Trust strip -->
<div class="trust-strip">
  <div class="trust-item">
    <div class="trust-icon">üöö</div>
    <div class="trust-title">Free Delivery</div>
    <div class="trust-desc">5‚Äì7 day delivery ¬∑ Free above PKR 5,000</div>
  </div>
  <div class="trust-item">
    <div class="trust-icon">‚úÖ</div>
    <div class="trust-title">100% Authentic</div>
    <div class="trust-desc">Every watch is verified genuine</div>
  </div>
  <div class="trust-item">
    <div class="trust-icon">üîÑ</div>
    <div class="trust-title">Fast Delivery</div>
    <div class="trust-desc">5‚Äì7 working days across Pakistan</div>
  </div>
  <div class="trust-item">
    <div class="trust-icon">üí¨</div>
    <div class="trust-title">WhatsApp Support</div>
    <div class="trust-desc">Get help before &amp; after your order</div>
  </div>
</div>

<!-- Brands Section -->
<section id="section-brands" id="brands-section">
  <div style="padding: 4rem 3rem; border-bottom: 1px solid var(--border);">
    <div class="section-eyebrow">Our Partners</div>
    <h2 class="section-title">Trusted <span>Brands</span></h2>
    <p class="section-desc">We stock only genuine timepieces from the world's most respected watch manufacturers. Every piece comes with authenticity guarantee.</p>
    <div class="brands-grid" id="brandsGrid"></div>
  </div>
</section>

<!-- About Section -->
<section id="section-about">
  <div id="about-section">
    <div class="about-text">
      <div class="section-eyebrow">Our Story</div>
      <h2 class="section-title">About <span>Bab ul Sa'at</span></h2>
      <p class="about-body">
        Bab ul Sa'at ‚Äî meaning "Gate of Watches" ‚Äî was born from a passion for horology and a desire to bring authentic timepieces to every wrist in Karachi.
      </p>
      <p class="about-body">
        We believe a great watch isn't just an accessory ‚Äî it's a statement of character, a keeper of memories, and a piece of craftsmanship that lasts generations. That's why we curate only genuine, verified pieces from the world's finest brands.
      </p>
      <p class="about-body">
        From classic automatics to modern smartwatches, from everyday Citizen quartz to elegant Orient dress pieces ‚Äî we have something for every budget and every style. Cash on delivery. Hassle-free returns. Real watches, real people.
      </p>
      <div class="about-stats">
        <div class="about-stat">
          <span class="about-stat-num">500+</span>
          <span class="about-stat-label">Happy Customers</span>
        </div>
        <div class="about-stat">
          <span class="about-stat-num">8</span>
          <span class="about-stat-label">Brands Stocked</span>
        </div>
        <div class="about-stat">
          <span class="about-stat-num">7</span>
          <span class="about-stat-label">Day Returns</span>
        </div>
      </div>
    </div>
    <div class="about-visual">
      <div class="about-feature">
        <div class="about-feature-icon">‚úÖ</div>
        <div>
          <div class="about-feature-title">100% Authentic Guarantee</div>
          <div class="about-feature-desc">Every watch is sourced directly from authorised distributors. No fakes, ever ‚Äî or your money back.</div>
        </div>
      </div>
      <div class="about-feature">
        <div class="about-feature-icon">üöö</div>
        <div>
          <div class="about-feature-title">Fast Delivery Across Pakistan</div>
          <div class="about-feature-desc">Delivery within 5‚Äì7 working days nationwide. Free on orders above PKR 5,000.</div>
        </div>
      </div>
      <div class="about-feature">
        <div class="about-feature-icon">üí¨</div>
        <div>
          <div class="about-feature-title">WhatsApp-First Support</div>
          <div class="about-feature-desc">Real human support via WhatsApp before and after every order. No bots, no wait queues.</div>
        </div>
      </div>
      <div class="about-feature">
        <div class="about-feature-icon">üîÑ</div>
        <div>
          <div class="about-feature-title">7-Day Hassle-Free Returns</div>
          <div class="about-feature-desc">Not satisfied? Return within 7 days, no questions asked. We make it easy.</div>
        </div>
      </div>
      <div class="about-feature">
        <div class="about-feature-icon">üí≥</div>
        <div>
          <div class="about-feature-title">Cash on Delivery Available</div>
          <div class="about-feature-desc">Pay when your watch arrives. No upfront payment required for most orders.</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contact Section -->
<section id="section-contact">
  <div style="padding: 4rem 3rem; border-bottom: 1px solid var(--border);">
    <div class="section-eyebrow">Get in Touch</div>
    <h2 class="section-title">Contact <span>Us</span></h2>
    <p class="section-desc">Have a question about a watch? Want to check availability or place a custom order? We're always just a message away.</p>
    <div class="contact-grid">
      <div class="contact-card">
        <div class="contact-card-header">
          <div class="contact-icon">üí¨</div>
          <div>
            <div class="contact-card-title">WhatsApp</div>
            <div class="contact-card-sub">Fastest response ‚Äî usually within minutes</div>
          </div>
        </div>
        <div class="contact-detail">
          <span class="contact-detail-label">Number</span>
          <span class="contact-detail-value">+92 300 123 4567</span>
        </div>
        <div class="contact-detail">
          <span class="contact-detail-label">Hours</span>
          <span class="contact-detail-value">Mon‚ÄìSat, 10am ‚Äì 9pm</span>
        </div>
        <div class="contact-detail">
          <span class="contact-detail-label">Best For</span>
          <span class="contact-detail-value">Orders, availability, custom requests</span>
        </div>
        <a class="contact-btn" onclick="openWhatsAppContact()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.123.554 4.118 1.528 5.845L0 24l6.335-1.508A11.95 11.95 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-1.9 0-3.681-.513-5.21-1.408l-.374-.222-3.862.919.978-3.768-.244-.389A9.96 9.96 0 012 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z"/></svg>
          Message on WhatsApp
        </a>
      </div>
      <div class="contact-card">
        <div class="contact-card-header">
          <div class="contact-icon">üìç</div>
          <div>
            <div class="contact-card-title">Visit Our Shop</div>
            <div class="contact-card-sub">Walk-ins welcome during shop hours</div>
          </div>
        </div>
        <div class="contact-detail">
          <span class="contact-detail-label">Address</span>
          <span class="contact-detail-value">Shop 12, Watch Market, Jodia Bazar, Karachi</span>
        </div>
        <div class="contact-detail">
          <span class="contact-detail-label">Shop Hours</span>
          <span class="contact-detail-value">Mon‚ÄìSat: 10am ‚Äì 9pm ¬∑ Sun: 12pm ‚Äì 7pm</span>
        </div>
        <div class="contact-detail">
          <span class="contact-detail-label">Nearby</span>
          <span class="contact-detail-value">Close to M.A. Jinnah Road, opposite Regal Chowk</span>
        </div>
        <a class="contact-btn alt" href="https://maps.google.com/?q=Jodia+Bazar+Karachi" target="_blank">
          üìç Open in Google Maps
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer>
  <div>
    <div class="footer-brand">Bab ul Sa'at</div>
    <p class="footer-tagline">Your go-to destination for genuine wrist watches in Karachi. Every budget, every style.</p>
  </div>
  <div class="footer-col">
    <h4>Shop</h4>
    <a onclick="filterAndGo('male')">Male Watches</a>
    <a onclick="filterAndGo('female')">Female Watches</a>
    <a onclick="filterAndGo('unisex')">Unisex Watches</a>
    <a onclick="filterAndGo('couple')">Couple Sets</a>
    <a onclick="filterAndGo('smart')">Smart Watches</a>
  </div>
  <div class="footer-col">
    <h4>Help</h4>
    <a onclick="navTo('contact')">Returns Policy</a>
    <a onclick="navTo('about')">Authenticity</a>
    <a onclick="navTo('contact')">Care Guide</a>
    <a onclick="navTo('contact')">Size Guide</a>
  </div>
  <div class="footer-col">
    <h4>Contact</h4>
    <a onclick="openWhatsAppContact()">WhatsApp Us</a>
    <a href="tel:+923360806932">Call Us</a>
    <a onclick="navTo('contact')">Find Our Shop</a>
    <a href="https://instagram.com" target="_blank">Instagram</a>
  </div>
</footer>
<div class="footer-bottom">
  <span>¬© 2025 Bab ul Sa'at. All rights reserved.</span>
  <span>Karachi, Pakistan</span>
</div>

<!-- Cart Drawer -->
<div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>
<div class="cart-drawer" id="cartDrawer">
  <div class="cart-header">
    <h2>Your Bag</h2>
    <button class="close-cart" onclick="closeCart()">‚úï</button>
  </div>
  <div class="cart-items" id="cartItems"></div>
  <div class="customer-form" id="customerForm">
    <div class="form-title">Your Details</div>
    <div class="form-group">
      <label>Full Name *</label>
      <input type="text" id="custName" placeholder="e.g. Ahmed Khan">
      <div class="form-error" id="errName">Please enter your name</div>
    </div>
    <div class="form-group">
      <label>Phone Number *</label>
      <input type="tel" id="custPhone" placeholder="e.g. 0300-1234567">
      <div class="form-error" id="errPhone">Please enter your phone number</div>
    </div>
    <div class="form-group">
      <label>Delivery Address *</label>
      <textarea id="custAddress" placeholder="House/flat, street, area, city"></textarea>
      <div class="form-error" id="errAddress">Please enter your address</div>
    </div>
    <div class="form-group">
      <label>Note (optional)</label>
      <input type="text" id="custNote" placeholder="Any special instructions‚Ä¶">
    </div>
  </div>

  <div class="cart-footer">
    <div class="cart-total">
      <span class="cart-total-label">Total</span>
      <span class="cart-total-price" id="cartTotal">PKR 0</span>
    </div>
    <button class="checkout-btn" id="checkoutBtn" onclick="handleCheckout()">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.123.554 4.118 1.528 5.845L0 24l6.335-1.508A11.95 11.95 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-1.9 0-3.681-.513-5.21-1.408l-.374-.222-3.862.919.978-3.768-.244-.389A9.96 9.96 0 012 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z"/></svg>
      Order via WhatsApp
    </button>
  </div>
</div>

<!-- Floating WhatsApp button -->
<a class="wa-float" id="waFloat" href="#" onclick="openWhatsApp(event)" title="Chat on WhatsApp">
  <svg viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/>
    <path d="M12 0C5.373 0 0 5.373 0 12c0 2.123.554 4.118 1.528 5.845L0 24l6.335-1.508A11.95 11.95 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-1.9 0-3.681-.513-5.21-1.408l-.374-.222-3.862.919.978-3.768-.244-.389A9.96 9.96 0 012 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z"/>
  </svg>
</a>
<div class="wa-tooltip">Chat with us on WhatsApp</div>

<div class="toast" id="toast"></div>

<script>
/* ‚îÄ‚îÄ Watch SVG generator ‚îÄ‚îÄ */
function makeWatchSVG(opts) {
  var fc = opts.face   || '#0c0c12';
  var dc = opts.dial   || '#0c0c12';
  var hc = opts.hand   || '#e8d8b0';
  var mc = opts.mark   || '#c8983a';
  var sc = opts.second || '#e03020';
  var sz = opts.small  ? 80 : 160;
  var cx = sz, cy = sz + sz * 0.05;
  var bezelR = sz * 0.76, dialR = sz * 0.62, mR = sz * 0.52;

  return '<svg viewBox="0 0 ' + (sz*2) + ' ' + (sz*2.6) + '" fill="none" xmlns="http://www.w3.org/2000/svg">' +
    '<rect x="' + (sz*0.56) + '" y="2" width="' + (sz*0.88) + '" height="' + (sz*0.64) + '" rx="' + (sz*0.07) + '" fill="' + fc + '"/>' +
    '<circle cx="' + cx + '" cy="' + cy + '" r="' + (bezelR+2) + '" fill="#0a0a0a"/>' +
    '<circle cx="' + cx + '" cy="' + cy + '" r="' + bezelR + '" fill="none" stroke="' + mc + '" stroke-width="' + (sz*0.055) + '"/>' +
    '<circle cx="' + cx + '" cy="' + cy + '" r="' + (bezelR-sz*0.06) + '" fill="' + dc + '"/>' +
    '<rect x="' + (cx - sz*0.04) + '" y="' + (cy - mR - sz*0.01) + '" width="' + (sz*0.08) + '" height="' + (sz*0.14) + '" rx="' + (sz*0.02) + '" fill="' + mc + '"/>' +
    '<rect x="' + (cx + mR - sz*0.13) + '" y="' + (cy - sz*0.04) + '" width="' + (sz*0.14) + '" height="' + (sz*0.08) + '" rx="' + (sz*0.02) + '" fill="' + mc + '"/>' +
    '<rect x="' + (cx - sz*0.04) + '" y="' + (cy + mR - sz*0.13) + '" width="' + (sz*0.08) + '" height="' + (sz*0.14) + '" rx="' + (sz*0.02) + '" fill="' + mc + '"/>' +
    '<rect x="' + (cx - mR - sz*0.01) + '" y="' + (cy - sz*0.04) + '" width="' + (sz*0.14) + '" height="' + (sz*0.08) + '" rx="' + (sz*0.02) + '" fill="' + mc + '"/>' +
    '<g transform="rotate(' + (opts.hourAngle||'-30') + ', ' + cx + ', ' + cy + ')">' +
      '<rect x="' + (cx - sz*0.025) + '" y="' + (cy - mR*0.85) + '" width="' + (sz*0.05) + '" height="' + (mR*0.85 + sz*0.07) + '" rx="' + (sz*0.025) + '" fill="' + hc + '"/>' +
    '</g>' +
    '<g transform="rotate(' + (opts.minAngle||'110') + ', ' + cx + ', ' + cy + ')">' +
      '<rect x="' + (cx - sz*0.016) + '" y="' + (cy - mR*0.97) + '" width="' + (sz*0.032) + '" height="' + (mR*0.97 + sz*0.05) + '" rx="' + (sz*0.016) + '" fill="' + hc + '"/>' +
    '</g>' +
    '<circle cx="' + cx + '" cy="' + cy + '" r="' + (sz*0.05) + '" fill="' + mc + '"/>' +
    '<circle cx="' + cx + '" cy="' + cy + '" r="' + (sz*0.025) + '" fill="' + dc + '"/>' +
    '<rect x="' + (sz*0.56) + '" y="' + (cy + bezelR + sz*0.04) + '" width="' + (sz*0.88) + '" height="' + (sz*0.6) + '" rx="' + (sz*0.07) + '" fill="' + fc + '"/>' +
  '</svg>';
}

/* ‚îÄ‚îÄ Product data ‚îÄ‚îÄ */
var allProducts = [
  // TOMI - Real photos, 5 color variants
  { id:22, name:'Arabic Dial Octagon', brand:'Hublot', ref:'HUBLOT-ARABIC-01', price:1700, cat:'male', badge:'new', desc:'42mm ¬∑ Arabic Numerals ¬∑ Date ¬∑ Octagon Case ¬∑ Rubber Strap',
    variants:[
      {label:'All Black',  img:'images/curren-black.jpg'},
      {label:'Grey Teal',  img:'images/hublot-black.jpg'},
      {label:'Navy Black', img:'images/hublot-navy.jpg'},
      {label:'Blue',       img:'images/hublot-grey.jpg'},
      {label:'White Teal', img:'images/hublot-white.jpg'},
    ]},
  { id:21, name:'Chronograph Sport', brand:'Curren', ref:'CURREN-CHRONO-01', price:6500, cat:'male', badge:'hot', desc:'45mm ¬∑ Chronograph ¬∑ Date ¬∑ Rubber Strap ¬∑ Water Resistant',
    variants:[
      {label:'Blue',       img:'images/hublot-blue.jpg'},
      {label:'Black Gold', img:'images/curren-gold.jpg'},
      {label:'Army Green', img:'images/curren-green.jpg'},
      {label:'All Black',  img:'images/hublot-green2.jpg'},
    ]},
  { id:16, name:'Moon Phase Classic', brand:'Tomi', ref:'T-MOON-01', price:4000, cat:'male', badge:'new', desc:'42mm ¬∑ Moon Phase ¬∑ Date ¬∑ Leather strap',
    variants:[
      {label:'All Black',   img:'images/tomi-black.jpg'},
      {label:'Black Rose',  img:'images/tomi-rose.jpg'},
      {label:'Black Silver',img:'images/tomi-silver.jpg'},
      {label:'White Silver',img:'images/tomi-white.jpg'},
      {label:'Blue Navy',   img:'images/tomi-blue.jpg'},
    ]},
  { id:17, name:'Tank Roman Classic', brand:'Sanda', ref:'SANDA-TANK-01', price:5200, cat:'male', badge:'new', desc:'Rectangular ¬∑ Roman Index ¬∑ Quartz ¬∑ Leather strap',
    variants:[
      {label:'White Blue',  img:'images/sanda-blue.jpg'},
      {label:'Black',       img:'images/sanda-black.jpg'},
      {label:'White Brown', img:'images/sanda-brown.jpg'},
      {label:'White Black', img:'images/sanda-wblack.jpg'},
    ]},
  { id:18, name:'Diamond Jewelry Gift Set', brand:'VIP', ref:'VIP-EID-OVAL', price:2700, cat:'female', badge:'hot', desc:'Oval Diamond Case ¬∑ Gift Box ¬∑ Bracelet ¬∑ Ring ¬∑ Necklace ¬∑ Earrings',
    variants:[
      {label:'Rose Gold / Black',  img:'images/vip-rose.jpg'},
      {label:'Silver / Black',     img:'images/vip-silver.jpg'},
      {label:'Gold / Black',       img:'images/vip-gold.jpg'},
      {label:'Black / White',      img:'images/vip-black.jpg'},
    ]},
  { id:19, name:'Luxury Diamond Set', brand:'Vitz', ref:'VITZ-EID-SET', price:2700, cat:'female', badge:'hot', desc:'Diamond Bezel ¬∑ Gift Box ¬∑ Bracelet ¬∑ Ring ¬∑ Locket ¬∑ Earrings',
    variants:[
      {label:'Gold / White',       img:'images/vitz-gwhite.jpg'},
      {label:'Black / Black',      img:'images/vitz-black.jpg'},
      {label:'Gold / Black Jewel', img:'images/vitz-gjewel.jpg'},
      {label:'Rose / Pink',        img:'images/vitz-rose.jpg'},
      {label:'Rose / White',       img:'images/vitz-rwhite.jpg'},
      {label:'Silver / White',     img:'images/vitz-silver.jpg'},
    ]},
  { id:20, name:'Double Time Sports Watch', brand:'Piaoma', ref:'PIAOMA-DT-01', price:3500, cat:'unisex', badge:'new', desc:'Dual Time ¬∑ Alarm ¬∑ Stopwatch ¬∑ Date ¬∑ Water Resistant ¬∑ Rubber Strap',
    variants:[
      {label:'All Black',  img:'images/piaoma-black.jpg'},
      {label:'Grey White', img:'images/piaoma-grey.jpg'},
      {label:'Navy Blue',  img:'images/piaoma-navy.jpg'},
      {label:'Brown',      img:'images/piaoma-brown.jpg'},
      {label:'Army Green', img:'images/piaoma-green1.jpg'},
      {label:'Olive Green',img:'images/piaoma-green2.jpg'},
    ]}
];

var cart = [];
var currentFilter = 'all';
var currentSort   = 'default';
var wishlist = {};

/* ‚îÄ‚îÄ Navigation ‚îÄ‚îÄ */
var navSections = {
  shop:    'section-shop',
  brands:  'section-brands',
  about:   'section-about',
  contact: 'section-contact'
};

function navTo(section) {
  // Update active nav link
  document.querySelectorAll('nav a').forEach(function(a) { a.classList.remove('active'); });
  var activeLink = document.getElementById('nav-' + section);
  if (activeLink) activeLink.classList.add('active');

  var el = document.getElementById(navSections[section] || ('section-' + section));
  if (el) {
    var offset = 76; // header height
    var top = el.getBoundingClientRect().top + window.pageYOffset - offset;
    window.scrollTo({ top: top, behavior: 'smooth' });
  }
}

/* Update active nav on scroll */
function updateActiveNav() {
  var scrollY = window.pageYOffset + 100;
  var active = 'shop';
  Object.keys(navSections).forEach(function(key) {
    var el = document.getElementById(navSections[key]);
    if (el && el.getBoundingClientRect().top + window.pageYOffset - 100 <= scrollY) {
      active = key;
    }
  });
  document.querySelectorAll('nav a').forEach(function(a) { a.classList.remove('active'); });
  var al = document.getElementById('nav-' + active);
  if (al) al.classList.add('active');
}
window.addEventListener('scroll', updateActiveNav, { passive: true });

/* Footer quick filter shortcut */
function filterAndGo(cat) {
  currentFilter = cat;
  document.querySelectorAll('.filter-btn').forEach(function(b) {
    b.classList.toggle('active', b.dataset.cat === cat);
  });
  renderProducts();
  navTo('shop');
}

/* ‚îÄ‚îÄ Brands Grid ‚îÄ‚îÄ */
var brandMeta = {
  'Orient':    { icon: 'üéØ', desc: 'Japanese precision' },
  'Citizen':   { icon: '‚òÄÔ∏è', desc: 'Eco-Drive technology' },
  'Seiko':     { icon: 'üåä', desc: 'Iconic craftsmanship' },
  'Tissot':    { icon: 'üíé', desc: 'Swiss excellence' },
  'Invicta':   { icon: '‚öì', desc: 'Bold dive watches' },
  'Timex':     { icon: 'üß≠', desc: 'Everyday reliability' },
  'Pakwatch':  { icon: 'ü§ù', desc: 'Local couple sets' },
  'Steelfast': { icon: 'üî©', desc: 'Sports & dive' },
  'Xiaomi':    { icon: 'üì±', desc: 'Smart & fitness' },
  'Huawei':    { icon: 'üèÉ', desc: 'Health tracking' },
  'Samsung':   { icon: '‚åö', desc: 'WearOS smartwatches' },
};

function renderBrands() {
  var counts = {};
  var cats = {};
  allProducts.forEach(function(p) {
    counts[p.brand] = (counts[p.brand] || 0) + 1;
    cats[p.brand] = p.cat;
  });
  var brands = Object.keys(counts);
  var grid = document.getElementById('brandsGrid');
  grid.innerHTML = brands.map(function(b) {
    var meta = brandMeta[b] || { icon: '‚åö', desc: '' };
    return [
      '<div class="brand-card" onclick="brandFilter(\''+b+'\')">',
        '<div class="brand-icon">'+meta.icon+'</div>',
        '<div class="brand-name">'+b+'</div>',
        '<div class="brand-count">'+counts[b]+' watch'+(counts[b]!==1?'es':'')+'</div>',
        '<div style="font-size:0.65rem;color:var(--text3);margin-top:2px;">'+meta.desc+'</div>',
        '<button class="brand-filter-btn">View Collection ‚Üí</button>',
      '</div>'
    ].join('');
  }).join('');
}

function brandFilter(brand) {
  // Switch to "All" filter but set search to brand name
  currentFilter = 'all';
  document.querySelectorAll('.filter-btn').forEach(function(b) {
    b.classList.toggle('active', b.dataset.cat === 'all');
  });
  document.getElementById('searchInput').value = brand;
  renderProducts();
  navTo('shop');
  showToast('Showing ' + brand + ' watches');
}

/* ‚îÄ‚îÄ Products ‚îÄ‚îÄ */
function getFiltered() {
  var list = currentFilter === 'all'
    ? allProducts.slice()
    : allProducts.filter(function(p){ return p.cat === currentFilter; });
  var q = document.getElementById('searchInput').value.toLowerCase().trim();
  if (q) list = list.filter(function(p){
    return (p.name+p.brand+p.ref+p.cat).toLowerCase().includes(q);
  });
  if (currentSort === 'price-asc')  list.sort(function(a,b){ return a.price-b.price; });
  if (currentSort === 'price-desc') list.sort(function(a,b){ return b.price-a.price; });
  if (currentSort === 'name')       list.sort(function(a,b){ return a.name.localeCompare(b.name); });
  return list;
}

/* ‚îÄ‚îÄ Carousel state ‚îÄ‚îÄ */
var carouselState = {};  // { productId: { current: 0, timer: null } }

function getVariantSVG(v) {
  if (v.img) {
    return '<img src="'+v.img+'" alt="" style="width:100%;height:100%;object-fit:cover;" />';
  }
  return makeWatchSVG({face:v.face, dial:v.dial, hand:v.hand, mark:v.mark, hourAngle:v.ha, minAngle:v.ma, small:false});
}

function carouselGo(pid, idx) {
  var p = allProducts.find(function(x){ return x.id === pid; });
  if (!p) return;
  var total = p.variants.length;
  idx = ((idx % total) + total) % total;
  carouselState[pid] = carouselState[pid] || { current: 0, timer: null };
  carouselState[pid].current = idx;

  // update slides
  for (var i = 0; i < total; i++) {
    var slide = document.getElementById('slide-'+pid+'-'+i);
    if (slide) slide.classList.toggle('active', i === idx);
  }
  // update dots
  for (var j = 0; j < total; j++) {
    var dot = document.getElementById('dot-'+pid+'-'+j);
    if (dot) dot.classList.toggle('active', j === idx);
  }
}

function carouselNext(pid) {
  var st = carouselState[pid] || { current: 0 };
  var p = allProducts.find(function(x){ return x.id === pid; });
  carouselGo(pid, st.current + 1);
}
function carouselPrev(pid) {
  var st = carouselState[pid] || { current: 0 };
  carouselGo(pid, (st.current || 0) - 1);
}

function startAutoPlay(pid) {
  stopAutoPlay(pid);
  carouselState[pid] = carouselState[pid] || { current: 0 };
  carouselState[pid].timer = setInterval(function() { carouselNext(pid); }, 3000);
}
function stopAutoPlay(pid) {
  if (carouselState[pid] && carouselState[pid].timer) {
    clearInterval(carouselState[pid].timer);
    carouselState[pid].timer = null;
  }
}


/* ‚îÄ‚îÄ Carousel state ‚îÄ‚îÄ */
var carouselState = {};

function getVariantContent(v) {
  if (v.img) {
    return '<img src="'+v.img+'" alt="" style="width:100%;height:100%;object-fit:cover;" />';
  }
  return makeWatchSVG({face:v.face||'#111', dial:v.dial||'#111', hand:v.hand||'#eee', mark:v.mark||'#c89', hourAngle:v.ha||0, minAngle:v.ma||0, small:false});
}

function carouselGo(pid, idx) {
  var p = allProducts.find(function(x){ return x.id === pid; });
  if (!p) return;
  var total = p.variants.length;
  idx = ((idx % total) + total) % total;
  if (!carouselState[pid]) carouselState[pid] = { current: 0, timer: null };
  carouselState[pid].current = idx;
  for (var i = 0; i < total; i++) {
    var s = document.getElementById('slide-'+pid+'-'+i);
    var d = document.getElementById('dot-'+pid+'-'+i);
    if (s) s.classList.toggle('active', i === idx);
    if (d) d.classList.toggle('active', i === idx);
  }
}

function carouselNext(pid) {
  var cur = carouselState[pid] ? carouselState[pid].current : 0;
  carouselGo(pid, cur + 1);
}
function carouselPrev(pid) {
  var cur = carouselState[pid] ? carouselState[pid].current : 0;
  carouselGo(pid, cur - 1);
}
function startAutoPlay(pid) {
  stopAutoPlay(pid);
  if (!carouselState[pid]) carouselState[pid] = { current: 0, timer: null };
  carouselState[pid].timer = setInterval(function() { carouselNext(pid); }, 3000);
}
function stopAutoPlay(pid) {
  if (carouselState[pid] && carouselState[pid].timer) {
    clearInterval(carouselState[pid].timer);
    carouselState[pid].timer = null;
  }
}

function renderProducts() {
  var list = getFiltered();
  var grid = document.getElementById('productsGrid');
  var meta = document.getElementById('productCount');
  meta.textContent = list.length + ' watch' + (list.length !== 1 ? 'es' : '') + ' found';

  // stop all timers
  Object.keys(carouselState).forEach(function(pid) { stopAutoPlay(parseInt(pid)); });
  carouselState = {};

  if (!list.length) {
    grid.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üîç</div><p>No watches found.<br>Try a different category or search term.</p></div>';
    return;
  }

  grid.innerHTML = list.map(function(p) {
    var badge = p.badge
      ? '<span class="product-badge badge-'+p.badge+'">'+p.badge.toUpperCase()+'</span>'
      : '';
    var wished = wishlist[p.id];
    var hasMany = p.variants.length > 1;

    var slides = p.variants.map(function(v, i) {
      var content_html = v.img
        ? '<img src="'+v.img+'" alt="'+v.label+'" style="width:100%;height:100%;object-fit:cover;" />'
        : makeWatchSVG({face:v.face||'#111',dial:v.dial||'#111',hand:v.hand||'#eee',mark:v.mark||'#c89',hourAngle:v.ha||0,minAngle:v.ma||0,small:false});
      return '<div class="carousel-slide'+(i===0?' active':'')+'" id="slide-'+p.id+'-'+i+'">'+content_html+'</div>';
    }).join('');

    var dots = hasMany
      ? '<div class="carousel-dots">'
        + p.variants.map(function(v, i) {
            return '<span class="carousel-dot'+(i===0?' active':'')+'" id="dot-'+p.id+'-'+i
              +'" onclick="event.stopPropagation();carouselGo('+p.id+','+i+')" title="'+v.label+'"></span>';
          }).join('')
        + '</div>'
      : '';

    var arrows = hasMany
      ? '<button class="carousel-arrow prev" onclick="event.stopPropagation();carouselPrev('+p.id+')">&#8249;</button>'
        + '<button class="carousel-arrow next" onclick="event.stopPropagation();carouselNext('+p.id+')">&#8250;</button>'
      : '';

    var tags = p.desc.split('¬∑').slice(0,2).map(function(t){
      return '<span class="product-tag">'+t.trim()+'</span>';
    }).join('');

    return '<div class="product-card"'
      + ' onmouseenter="startAutoPlay('+p.id+')"'
      + ' onmouseleave="stopAutoPlay('+p.id+')">'
      + '<div class="product-img">'
        + badge
        + '<button class="product-wishlist'+(wished?' liked':'')+'" id="wish-'+p.id+'" onclick="toggleWish(event,'+p.id+')" title="Wishlist">'
          + (wished ? '‚ô•' : '‚ô°')
        + '</button>'
        + '<div class="carousel-track">'
          + slides + arrows + dots
        + '</div>'
      + '</div>'
      + '<div class="product-info">'
        + '<div class="product-brand">'+p.brand+'</div>'
        + '<div class="product-name">'+p.name+'</div>'
        + '<div class="product-ref">Ref. '+p.ref+'</div>'
        + '<div class="product-tags"><span class="product-tag">'+p.cat+'</span>'+tags+'</div>'
        + '<div class="product-footer">'
          + '<div class="product-price"><span class="currency">PKR</span>'+p.price.toLocaleString()+'</div>'
          + '<button class="add-cart-btn" id="btn-'+p.id+'" onclick="addToCart(event,'+p.id+')">Add to Bag</button>'
        + '</div>'
      + '</div>'
    + '</div>';
  }).join('');
}

function filterProducts(cat, btn) {
  currentFilter = cat;
  // Clear brand search when switching category
  document.getElementById('searchInput').value = '';
  document.querySelectorAll('.filter-btn').forEach(function(b){ b.classList.remove('active'); });
  btn.classList.add('active');
  renderProducts();
}

function sortProducts(val) {
  currentSort = val;
  renderProducts();
}

/* ‚îÄ‚îÄ Cart ‚îÄ‚îÄ */
function addToCart(e, id) {
  e.stopPropagation();
  var p = allProducts.find(function(x){ return x.id === id; });
  var ex = cart.find(function(x){ return x.id === id; });
  if (ex) { ex.qty++; } else { cart.push({ id:p.id, name:p.name, brand:p.brand, ref:p.ref, price:p.price, face:p.face, dial:p.dial, hand:p.hand, mark:p.mark, ha:p.ha, ma:p.ma, qty:1 }); }
  var btn = document.getElementById('btn-'+id);
  if (btn) { btn.textContent = 'Added ‚úì'; btn.classList.add('added'); setTimeout(function(){ btn.textContent='Add to Bag'; btn.classList.remove('added'); }, 1500); }
  updateCartUI();
  showToast(p.brand + ' ' + p.name + ' added to bag');
}

function removeFromCart(id) {
  cart = cart.filter(function(x){ return x.id !== id; });
  updateCartUI();
  renderCartItems();
}

var WA_NUMBER = '923360806932';

function updateCartUI() {
  var total = cart.reduce(function(s,x){ return s + x.price * x.qty; }, 0);
  var count = cart.reduce(function(s,x){ return s + x.qty; }, 0);
  var el = document.getElementById('cartCount');
  el.textContent = count;
  el.classList.toggle('has-items', count > 0);
  document.getElementById('cartTotal').textContent = 'PKR ' + total.toLocaleString();
  var form = document.getElementById('customerForm');
  if (form) form.classList.toggle('visible', count > 0);
}

function renderCartItems() {
  var el = document.getElementById('cartItems');
  if (!cart.length) {
    el.innerHTML = '<div class="cart-empty"><div class="cart-empty-icon">‚åö</div><p>Your bag is empty.<br>Find your perfect watch.</p></div>';
    return;
  }
  el.innerHTML = cart.map(function(item) {
    var svg = makeWatchSVG({face:item.face,dial:item.dial,hand:item.hand,mark:item.mark,hourAngle:item.ha,minAngle:item.ma,small:true});
    return [
      '<div class="cart-item">',
        '<div class="cart-item-img">'+svg+'</div>',
        '<div style="flex:1;min-width:0">',
          '<div class="cart-item-name">'+item.name+'</div>',
          '<div class="cart-item-ref">'+item.brand+' ¬∑ '+item.ref+'</div>',
          '<div class="cart-item-price">PKR '+item.price.toLocaleString()+(item.qty>1?' √ó '+item.qty:'')+'</div>',
        '</div>',
        '<button class="cart-item-remove" onclick="removeFromCart('+item.id+')" title="Remove">‚úï</button>',
      '</div>'
    ].join('');
  }).join('');
}

function openCart() {
  renderCartItems();
  document.getElementById('cartOverlay').classList.add('open');
  document.getElementById('cartDrawer').classList.add('open');
}
function closeCart() {
  document.getElementById('cartOverlay').classList.remove('open');
  document.getElementById('cartDrawer').classList.remove('open');
}

function toggleWish(e, id) {
  e.stopPropagation();
  wishlist[id] = !wishlist[id];
  var btn = document.getElementById('wish-'+id);
  if (btn) { btn.textContent = wishlist[id] ? '‚ô•' : '‚ô°'; btn.classList.toggle('liked', wishlist[id]); }
  showToast(wishlist[id] ? 'Added to wishlist ‚ô•' : 'Removed from wishlist');
}

function showToast(msg) {
  var t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(window._tt);
  window._tt = setTimeout(function(){ t.classList.remove('show'); }, 2200);
}

/* ‚îÄ‚îÄ WhatsApp ‚îÄ‚îÄ */
function handleCheckout() {
  if (!cart.length) { showToast('Your bag is empty!'); return; }
  var name    = document.getElementById('custName').value.trim();
  var phone   = document.getElementById('custPhone').value.trim();
  var address = document.getElementById('custAddress').value.trim();
  var note    = document.getElementById('custNote').value.trim();
  var ok = true;

  function setErr(id, errId, show) {
    document.getElementById(errId).classList.toggle('show', show);
    document.getElementById(id).style.borderColor = show ? '#e05050' : '';
    if (show) ok = false;
  }
  setErr('custName',    'errName',    !name);
  setErr('custPhone',   'errPhone',   !phone);
  setErr('custAddress', 'errAddress', !address);
  if (!ok) { showToast('Please fill in your details first'); return; }

  var total = cart.reduce(function(s,x){ return s + x.price * x.qty; }, 0);
  var lines = [];
  lines.push('üõç *New Order ‚Äî Bab ul Sa\'at*');
  lines.push('');
  lines.push('*Order Details:*');
  cart.forEach(function(item, i) {
    lines.push((i+1) + '. ' + item.brand + ' ' + item.name);
    lines.push('   Ref: ' + item.ref);
    lines.push('   Price: PKR ' + item.price.toLocaleString() + (item.qty > 1 ? ' √ó ' + item.qty : ''));
  });
  lines.push('');
  lines.push('*Total: PKR ' + total.toLocaleString() + '*');
  lines.push('');
  lines.push('*Customer Details:*');
  lines.push('Name: ' + name);
  lines.push('Phone: ' + phone);
  lines.push('Address: ' + address);
  if (note) lines.push('Note: ' + note);
  lines.push('');
  lines.push('_Payment: Cash on Delivery_');

  var msg = lines.join('\n');
  var url = 'https://wa.me/' + WA_NUMBER + '?text=' + encodeURIComponent(msg);
  window.open(url, '_blank');
  showToast('Opening WhatsApp‚Ä¶ ‚úì');
}

function openWhatsApp(e) {
  e.preventDefault();
  var msg = 'Hello! I\'d like to enquire about watches at Bab ul Sa\'at.';
  window.open('https://wa.me/' + WA_NUMBER + '?text=' + encodeURIComponent(msg), '_blank');
}

function openWhatsAppContact() {
  var msg = 'Hello! I have a question about your watches.';
  window.open('https://wa.me/' + WA_NUMBER + '?text=' + encodeURIComponent(msg), '_blank');
}

document.getElementById('searchInput').addEventListener('input', function(){ renderProducts(); });

// Init
renderProducts();
renderBrands();
updateCartUI();
</script>
</body>
</html>
